{"version":3,"sources":["webpack:///webpack/bootstrap 492e0e203a1c1e330b4c","webpack:///external \"react\"","webpack:///./kit/config.js","webpack:///external \"prop-types\"","webpack:///./src/components/hotel.scss","webpack:///external \"chalk\"","webpack:///./kit/lib/env.js","webpack:///external \"react-apollo\"","webpack:///external \"react-helmet\"","webpack:///external \"graphql\"","webpack:///./src/data/data.js","webpack:///external \"seamless-immutable\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-redux\"","webpack:///external \"react-fontawesome\"","webpack:///external \"font-awesome/css/font-awesome.css\"","webpack:///./kit/entry/server_dev.js","webpack:///./kit/lib/console.js","webpack:///external \"boxen\"","webpack:///external \"ip\"","webpack:///./kit/entry/server.js","webpack:///external \"stream\"","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///external \"isomorphic-fetch\"","webpack:///external \"react-dom/server\"","webpack:///external \"koa\"","webpack:///external \"koa-sslify\"","webpack:///external \"kcors\"","webpack:///external \"koa-send\"","webpack:///external \"koa-helmet\"","webpack:///external \"koa-router\"","webpack:///external \"microseconds\"","webpack:///external \"react-router\"","webpack:///external \"apollo-server-koa\"","webpack:///external \"apollo-local-query\"","webpack:///./src/app.js","webpack:///./src/reducers/hotel.js","webpack:///external \"uuid\"","webpack:///./src/components/main/index.js","webpack:///./kit/lib/routing.js","webpack:///./src/components/hotelList.js","webpack:///./static/img ^\\.\\/.*$","webpack:///./static/img/bellagio.jpg","webpack:///./static/img/boston.jpg","webpack:///./static/img/carlos.jpg","webpack:///./static/img/poseidon.jpg","webpack:///./static/img/safari.jpg","webpack:///./src/components/filterSection.js","webpack:///./src/actions/index.js","webpack:///./src/cert/self_signed.js","webpack:///./src/graphql/schema.js","webpack:///./kit/lib/redux.js","webpack:///external \"redux\"","webpack:///external \"redux-thunk\"","webpack:///./kit/views/ssr.js","webpack:///./kit/lib/apollo.js","webpack:///./config/paths.js","webpack:///external \"path\"","webpack:///external \"koa-bodyparser\""],"names":["Common","constructor","reducers","Map","apolloMiddleware","apolloAfterware","apolloNetworkOptions","apolloClientOptions","graphQLEndpoint","graphQLServer","addReducer","key","reducer","initialState","Error","set","enableGraphQLServer","endpoint","graphiQL","setGraphQLEndpoint","uri","addApolloMiddleware","middlewareFunc","push","addApolloAfterware","afterwareFunc","setApolloClientOptions","opt","setApolloNetworkOptions","Config","ServerConfig","routes","Set","koaAppFunc","enableHTTP","enableForceSSL","sslOptions","middleware","graphQLSchema","enableBodyParser","bodyParserOptions","corsOptions","getKoaApp","func","enableSSL","cert","forceSSL","disableHTTP","disableBodyParser","setBodyParserOptions","set404Handler","handler404","setErrorHandler","errorHandler","addMiddleware","add","addRoute","method","route","handlers","addGetRoute","addPostRoute","addPutRoute","addPatchRoute","addDeleteRoute","setGraphQLSchema","schema","setCORSOptions","ClientConfig","getServerURL","host","port","allowSSL","stub","uuid","require","v4","css","scripts","map","app","router","listen","get","use","allowedMethods","type","chalk","bgYellow","black","logServerStarted","message","green","bold","url","address","err","console","log","padding","borderColor","margin","staticMiddleware","createReactHandler","graphql","createNeworkInterface","localInterface","context","createLocalInterface","externalInterface","ctx","next","path","root","public","immutable","distDev","e","staticMiddlewareHandler","chunkManifest","routeContext","components","request","store","apollo","includes","status","redirect","htmlStream","write","reactStream","renderToNodeStream","rewind","webpackManifest","__STATE__","getState","pipe","body","reactHandler","res","statusCode","start","now","end","parse","since","total","microseconds","milliseconds","seconds","ssrMode","networkInterface","forEach","post","graphiQLEndpoint","endpointURL","servers","createServer","callback","process","env","SSL_PORT","default","stateDump","JSON","stringify","engine","on","error","dispatch","state","action","name","length","filter","hotel","reg","RegExp","match","concat","sort","a","b","rating","content","Status","PureComponent","render","code","children","props","staticContext","propTypes","number","isRequired","node","defaultProps","NotFound","Redirect","to","from","permanent","oneOfType","string","object","bool","HotelList","hotels","getRange","starCount","i","star","index","color","hotelItem","hotelCover","background","cover","hotelInfo","setRef","ref","handleFindHotel","value","setState","clearBtn","handleClearSearch","handleSortByRaitingASK","sortByRaiting","handleSortByRaitingDESC","filterSection","searchSection","searchBtn","sortSection","btn","sortIcon","findByName","sortByRaitingASK","sortByRaitingDESC","text","Date","getMessage","Message","description","fields","resolve","msg","Hotels","Query","query","createNewStore","hasState","window","unwind","r","Object","assign","arr","defaultReducer","keys","apolloClient","__REDUX_DEVTOOLS_EXTENSION__","f","Html","head","meta","toComponent","title","__html","reduce","out","src","arrayOf","element","createClient","getNetworkInterface","browserClient","reduxRootSelector","opts","applyMiddleware","useAfter","applyAfterware","join","__dirname","module","exports","kit","entry","webpack","views","static","dist"],"mappings":"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","file":"server_dev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 492e0e203a1c1e330b4c","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","// Simple class to act as a singleton for app-wide configuration.\n\n// We'll start with a common config that can be extended separately by the\n// server/client, to provide environment-specific functionality\nclass Common {\n  constructor() {\n    // Store reducers in a `Map`, for easy key retrieval\n    this.reducers = new Map();\n\n    // Apollo (middle|after)ware\n    this.apolloMiddleware = [];\n    this.apolloAfterware = [];\n    this.apolloNetworkOptions = {};\n    this.apolloClientOptions = {};\n\n    // GraphQL endpoint.  This needs setting via either `config.enableGraphQLServer()`\n    // or `config.setGraphQLEndpoint()`\n    this.graphQLEndpoint = null;\n\n    // Set to true if we're using an internal GraphQL server\n    this.graphQLServer = false;\n  }\n\n  /* REDUX */\n\n  // Adds a new reducer.  Accepts a `key` string, a `reducer` function, and a\n  // (by default empty) `initialState` object, which will ultimately become immutable\n  addReducer(key, reducer, initialState = {}) {\n    if (typeof reducer !== 'function') {\n      throw new Error(`Can't add reducer for '${key}' - reducer must be a function`);\n    }\n    this.reducers.set(key, {\n      reducer,\n      initialState,\n    });\n  }\n\n  /* GRAPHQL */\n\n  // Enables internal GraphQL server.  Default GraphQL and GraphiQL endpoints\n  // can be overridden\n  enableGraphQLServer(endpoint = '/graphql', graphiQL = true) {\n    this.graphQLServer = true;\n    this.graphQLEndpoint = endpoint;\n    this.graphiQL = graphiQL;\n  }\n\n  // Set an external GraphQL URI for use with Apollo\n  setGraphQLEndpoint(uri, graphiQL = true) {\n    this.graphQLEndpoint = uri;\n    this.graphiQL = graphiQL;\n  }\n\n  // Register Apollo middleware function\n  addApolloMiddleware(middlewareFunc) {\n    this.apolloMiddleware.push(middlewareFunc);\n  }\n\n  // Register Apollo afterware function\n  addApolloAfterware(afterwareFunc) {\n    this.apolloAfterware.push(afterwareFunc);\n  }\n\n  // Apollo Client options.  These will be merged in with the `createClient`\n  // default options defined in `kit/lib/apollo.js`\n  setApolloClientOptions(opt = {}) {\n    this.apolloClientOptions = opt;\n  }\n\n  // Apollo Network options.  These will be merged in with the `createNetworkInterface`\n  // default options defined in `kit/lib/apollo.js`\n  setApolloNetworkOptions(opt = {}) {\n    this.apolloNetworkOptions = opt;\n  }\n}\n\n// Placeholder for the class we'll attach\nlet Config;\n\n// Server Config extensions.  This is wrapped in a `SERVER` block to avoid\n// adding unnecessary functionality to the client bundle.  Every byte counts!\nif (SERVER) {\n  Config = class ServerConfig extends Common {\n    constructor() {\n      super();\n      // Create a set for routes -- to retrieve based on insertion order\n      this.routes = new Set();\n\n      // Koa application function. But default, this is null\n      this.koaAppFunc = null;\n\n      // Flag for setting whether plain HTTP should be disabled\n      this.enableHTTP = true;\n\n      // Force SSL. Rewrites all non-SSL queries to SSL.  False, by default.\n      this.enableForceSSL = false;\n\n      // Options for enabling SSL. By default, this is null. If SSL is enabled\n      // in userland, this would instead hold an object of options\n      this.sslOptions = null;\n\n      // Custom middleware -- again, based on insertion order\n      this.middleware = new Set();\n\n      // GraphQL schema (if we're using an internal server)\n      this.graphQLSchema = null;\n\n      // Attach a GraphiQL IDE endpoint to our server?  By default - no.  If\n      // this === true, this will default to `/graphql`.  If it's a string, it'll\n      // default to the string value\n      this.graphiQL = false;\n\n      // Enable body parsing by default.  Leave `koa-bodyparser` opts as default\n      this.enableBodyParser = true;\n      this.bodyParserOptions = {};\n\n      // CORS options for `koa-cors`\n      this.corsOptions = {};\n    }\n\n    /* WEB SERVER / SSR */\n\n    // Get access to Koa's `app` instance, for adding custom instantiation\n    // or doing something that's not covered by other functions\n    getKoaApp(func) {\n      this.koaAppFunc = func;\n    }\n\n    // Enable SSL. Normally, you'd use an upstream proxy like Nginx to handle\n    // SSL. But if you want to run a 'bare' Koa HTTPS web server, you can pass\n    // in the certificate details here and it'll respond to SSL requests\n    enableSSL(opt) {\n      // At a minimum, we should have `key` and `cert` -- check for those\n      if (typeof opt !== 'object' || !opt.key || !opt.cert) {\n        throw new Error('Cannot enable SSL. Missing `key` and/or `cert`');\n      }\n      this.sslOptions = opt;\n    }\n\n    // Force SSL. Rewrites all non-SSL queries to SSL. Any options here are\n    // passed to `koa-sslify`, the SSL enforcement middleware\n    forceSSL(opt = {}) {\n      this.enableForceSSL = opt;\n    }\n\n    // Disable plain HTTP.  Note this should only be used if you've also set\n    // `enableSSL()` and you don't want dual-HTTP+SSL config\n    disableHTTP() {\n      this.enableHTTP = false;\n    }\n\n    // Disable the optional `koa-bodyparser`, to prevent POST data being sent to\n    // each request.  By default, body parsing is enabled.\n    disableBodyParser() {\n      this.enableBodyParser = false;\n    }\n\n    setBodyParserOptions(opt = {}) {\n      this.bodyParserOptions = opt;\n    }\n\n    // 404 handler for the server.  By default, `kit/entry/server.js` will\n    // simply return a 404 status code without modifying the HTML render.  By\n    // setting a handler here, this will be returned instead\n    set404Handler(func) {\n      if (typeof func !== 'function') {\n        throw new Error('404 handler must be a function');\n      }\n      this.handler404 = func;\n    }\n\n    // Error handler.  If this isn't defined, the server will simply return a\n    // 'There was an error. Please try again later.' message, and log the output\n    // to the console.  Override that behaviour by passing a (e, ctx, next) -> {} func\n    setErrorHandler(func) {\n      if (typeof func !== 'function') {\n        throw new Error('Error handler must be a function');\n      }\n      this.errorHandler = func;\n    }\n\n    // Add custom middleware.  This should be an async func, for use with Koa\n    addMiddleware(middlewareFunc) {\n      this.middleware.add(middlewareFunc);\n    }\n\n    // Adds a custom server route to attach to our Koa router\n    addRoute(method, route, ...handlers) {\n      this.routes.add({\n        method,\n        route,\n        handlers,\n      });\n    }\n\n    // Adds custom GET route\n    addGetRoute(route, ...handlers) {\n      this.addRoute('get', route, ...handlers);\n    }\n\n    // Adds custom POST route\n    addPostRoute(route, ...handlers) {\n      this.addRoute('post', route, ...handlers);\n    }\n\n    // Adds custom PUT route\n    addPutRoute(route, ...handlers) {\n      this.addRoute('put', route, ...handlers);\n    }\n\n    // Adds custom PATCH route\n    addPatchRoute(route, ...handlers) {\n      this.addRoute('patch', route, ...handlers);\n    }\n\n    // Adds custom DELETE route\n    addDeleteRoute(route, ...handlers) {\n      this.addRoute('delete', route, ...handlers);\n    }\n\n    // Set the GraphQL schema. This should only be called on the server, otherwise\n    // the bundle size passed by the `schema` object will be unnecessarily inflated\n    setGraphQLSchema(schema) {\n      this.graphQLSchema = schema;\n    }\n\n    // CORS options, for `koa-cors` instantiation\n    setCORSOptions(opt = {}) {\n      this.corsOptions = opt;\n    }\n  };\n} else {\n  // For the client config, we'll extend `Common` by default -- but if we need\n  // anything unique to the browser in the future, we'd add it here...\n  Config = class ClientConfig extends Common {};\n}\n\n// Since there's only one `Config` instance globally, we'll create the new\n// instance here and export it.  This will then provide any subsequent imports\n// with the same object, so we can add settings to a common config\nexport default new Config();\n\n\n\n// WEBPACK FOOTER //\n// ./kit/config.js","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 2\n// module chunks = 0","module.exports = {\n\t\"content\": \"content-2VPQHqsWcFYcoqtr8QBr8w\",\n\t\"hotelItem\": \"hotelItem-lZdK4RxhVnOEBqBfuo_tP\",\n\t\"hotelCover\": \"hotelCover-qbk-HzIUm6N5vIRKyKF4B\",\n\t\"hotelInfo\": \"hotelInfo-GXmYR35-sK5PLVOGOubRf\",\n\t\"searchSection\": \"searchSection-2KdqQgriloRir7SOHml9Tu\",\n\t\"sortSection\": \"sortSection-1fvoLMuBRknThGxO6zIq6E\",\n\t\"filterSection\": \"filterSection-1P7aaQtCE2-zAsYWNsD0XD\",\n\t\"btn\": \"btn-3X7vTkeBV0ClrGHNzNYLgD\",\n\t\"searchBtn\": \"searchBtn-2-FFXfU8UbxsfPSBdUzQtx\",\n\t\"sortIcon\": \"sortIcon-fhjBdQYCvqSSig-kwpoBe\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/hotel.scss\n// module id = 3\n// module chunks = 0","module.exports = require(\"chalk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"chalk\"\n// module id = 4\n// module chunks = 0","/* eslint-disable import/prefer-default-export */\n\n// Environment-aware functions\n\n// Get the protocol://host:port of where the current server would bind\nexport function getServerURL(host = process.env.HOST, port = process.env.PORT, allowSSL = true) {\n  // Check for SSL\n  if (allowSSL && process.env.SSL_PORT) {\n    const stub = `https://${host || process.env.HOST}`;\n\n    // If we're on port 443, that's 'regular' SSL so no need to specify port\n    if (process.env.SSL_PORT === '443') return stub;\n    return `${stub}:${process.env.SSL_PORT}`;\n  }\n\n  // Plain HTTP\n  const stub = `http://${host || process.env.HOST}`;\n\n  // If we're on port 80, that's 'regular' HTTP so no need to specify port\n  if (port === '80') return stub;\n  return `${stub}:${port}`;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kit/lib/env.js","module.exports = require(\"react-apollo\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-apollo\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"react-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-helmet\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"graphql\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"graphql\"\n// module id = 8\n// module chunks = 0","const uuid = require('uuid');\r\n\r\nexport default [\r\n  {\r\n    \"uuid\": uuid.v4(),\r\n    \"name\": \"Carlos-Hotel\",\r\n    \"rating\": 2,\r\n    \"cover\": \"carlos.jpg\"\r\n  },\r\n  {\r\n    \"uuid\": uuid.v4(),\r\n    \"name\": \"Bellagio-Hotel\",\r\n    \"rating\": 5,\r\n    \"cover\": \"bellagio.jpg\"\r\n  },\r\n {\r\n    \"uuid\": uuid.v4(),\r\n    \"name\": \"Boston-Hotel\",\r\n    \"rating\": 4,\r\n    \"cover\": \"boston.jpg\"\r\n  },\r\n\r\n  {\r\n    \"uuid\": uuid.v4(),\r\n    \"name\": \"Poseidon-Hotel\",\r\n    \"rating\": 3,\r\n    \"cover\": \"poseidon.jpg\"\r\n  },\r\n  {\r\n    \"uuid\": \"uuid5\",\r\n    \"name\": \"Safari-Hotel\",\r\n    \"rating\": 5,\r\n    \"cover\": \"safari.jpg\"\r\n  }\r\n]\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/data/data.js","module.exports = require(\"seamless-immutable\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"seamless-immutable\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"react-redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-redux\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"react-fontawesome\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-fontawesome\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"font-awesome/css/font-awesome.css\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"font-awesome/css/font-awesome.css\"\n// module id = 14\n// module chunks = 0","/* eslint-disable no-console */\n\n// Production server entry point.  Spawns the server on default HOST:PORT\n\n// ----------------------\n// IMPORTS\n\n/* NPM */\n\n// Chalk terminal library\nimport chalk from 'chalk';\n\n/* Local */\n\n// Import console messages\nimport { logServerStarted } from 'kit/lib/console';\n\n// Extend the server base\nimport server, { createReactHandler, staticMiddleware } from './server';\n\n// ----------------------\n\n// Get manifest values\nconst css = '/assets/css/style.css';\nconst scripts = [\n  'vendor.js',\n  'browser.js'].map(key => `/${key}`);\n\n// Spawn the development server.\n// Runs inside an immediate `async` block, to await listening on ports\n(async () => {\n  const { app, router, listen } = server;\n\n  // Create proxy to tunnel requests to the browser `webpack-dev-server`\n  router.get('/*', createReactHandler(css, scripts));\n\n  // Connect the development routes to the server\n  app\n    .use(staticMiddleware())\n    .use(router.routes())\n    .use(router.allowedMethods());\n\n  // Spawn the server\n  listen();\n\n  // Log to the terminal that we're ready for action\n  logServerStarted({\n    type: 'server-side rendering',\n    chalk: chalk.bgYellow.black,\n  });\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./kit/entry/server_dev.js","/* eslint-disable import/prefer-default-export, no-console */\n\n\n// ----------------------\n// IMPORTS\n\n/* NPM */\n\n// Display a border around a message\nimport boxen from 'boxen';\n\n// Chalk library, to add colour to our console logs\nimport chalk from 'chalk';\n\n// IP library, for determining the local network interface\nimport ip from 'ip';\n\n/* ReactQL */\nimport { getServerURL } from './env';\n\n// ----------------------\n\nexport function logServerStarted(opt = {}) {\n  let message = chalk.green(`Running ${(opt.chalk || chalk.bold)(opt.type)} in ${chalk.bold(process.env.NODE_ENV)} mode\\n\\n`);\n  message += `- ${chalk.bold('Local:           ')} ${getServerURL(opt.host, opt.port, opt.allowSSL)}`;\n\n  try {\n    const url = getServerURL(ip.address(), opt.port, opt.allowSSL);\n    message += `\\n- ${chalk.bold('On Your Network: ')} ${url}`;\n  } catch (err) { /* ignore errors */ }\n\n  console.log(\n    boxen(message, {\n      padding: 1,\n      borderColor: 'green',\n      margin: 1,\n    }),\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kit/lib/console.js","module.exports = require(\"boxen\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"boxen\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"ip\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ip\"\n// module id = 19\n// module chunks = 0","/* eslint-disable no-param-reassign, no-console */\n\n// Server entry point, for Webpack.  This will spawn a Koa web server\n// and listen for HTTP requests.  Clients will get a return render of React\n// or the file they have requested\n//\n// Note:  No HTTP optimisation is performed here (gzip, http/2, etc).  Node.js\n// will nearly always be slower than Nginx or an equivalent, dedicated proxy,\n// so it's usually better to leave that stuff to a faster upstream provider\n\n// ----------------------\n// IMPORTS\n\n/* Node */\n\n// For pre-pending a `<!DOCTYPE html>` stream to the server response\nimport { PassThrough } from 'stream';\n\n// HTTP & SSL servers.  We can use `config.enableSSL|disableHTTP()` to enable\n// HTTPS and disable plain HTTP respectively, so we'll use Node's core libs\n// for building both server types.\nimport http from 'http';\nimport https from 'https';\n\n/* NPM */\n\n// Patch global.`fetch` so that Apollo calls to GraphQL work\nimport 'isomorphic-fetch';\n\n// React UI\nimport React from 'react';\n\n// React utility to transform JSX to HTML (to send back to the client)\nimport ReactDOMServer from 'react-dom/server';\n\n// Koa 2 web server.  Handles incoming HTTP requests, and will serve back\n// the React render, or any of the static assets being compiled\nimport Koa from 'koa';\n\n// Apollo tools to connect to a GraphQL server.  We'll grab the\n// `ApolloProvider` HOC component, which will inject any 'listening' React\n// components with GraphQL data props.  We'll also use `getDataFromTree`\n// to await data being ready before rendering back HTML to the client\nimport { ApolloProvider, getDataFromTree } from 'react-apollo';\n\n// Enforce SSL, if required\nimport koaSSL from 'koa-sslify';\n\n// Enable cross-origin requests\nimport koaCors from 'kcors';\n\n// Static file handler\nimport koaSend from 'koa-send';\n\n// HTTP header hardening\nimport koaHelmet from 'koa-helmet';\n\n// Koa Router, for handling URL requests\nimport KoaRouter from 'koa-router';\n\n// High-precision timing, so we can debug response time to serve a request\nimport ms from 'microseconds';\n\n// React Router HOC for figuring out the exact React hierarchy to display\n// based on the URL\nimport { StaticRouter } from 'react-router';\n\n// <Helmet> component for retrieving <head> section, so we can set page\n// title, meta info, etc along with the initial HTML\nimport Helmet from 'react-helmet';\n\n// Import the Apollo GraphQL server, for Koa\nimport { graphqlKoa, graphiqlKoa } from 'apollo-server-koa';\n\n// Allow local GraphQL schema querying when using a built-in GraphQL server\nimport apolloLocalQuery from 'apollo-local-query';\n\n// Import all of the GraphQL lib, for use with our Apollo client connection\nimport * as graphql from 'graphql';\n\n/* ReactQL */\n\n// App entry point.  This must come first, because app.js will set-up the\n// server config that we'll use later\nimport App from 'src/app';\n\n// Custom redux store creator.  This will allow us to create a store 'outside'\n// of Apollo, so we can apply our own reducers and make use of the Redux dev\n// tools in the browser\nimport createNewStore from 'kit/lib/redux';\n\n// Initial view to send back HTML render\nimport Html from 'kit/views/ssr';\n\n// Grab the shared Apollo Client / network interface instantiation\nimport { getNetworkInterface, createClient } from 'kit/lib/apollo';\n\n// App settings, which we'll use to customise the server -- must be loaded\n// *after* app.js has been called, so the correct settings have been set\nimport config from 'kit/config';\n\n// Import paths.  We'll use this to figure out where our public folder is\n// so we can serve static files\nimport PATHS from 'config/paths';\n\n// ----------------------\n\n// Create a network layer based on settings.  This is an immediate function\n// that binds either the `localInterface` function (if there's a built-in\n// GraphQL) or `externalInterface` (if we're pointing outside of ReactQL)\nconst createNeworkInterface = (() => {\n  // For a local interface, we want to allow passing in the request's\n  // context object, which can then feed through to our GraphQL queries to\n  // extract pertinent information and manipulate the response\n  function localInterface(context) {\n    return apolloLocalQuery.createLocalInterface(\n      graphql,\n      config.graphQLSchema,\n      {\n        // Attach the request's context, which certain GraphQL queries might\n        // need for accessing cookies, auth headers, etc.\n        context,\n      },\n    );\n  }\n\n  function externalInterface() {\n    return getNetworkInterface(config.graphQLEndpoint);\n  }\n\n  return config.graphQLServer ? localInterface : externalInterface;\n})();\n\n// Static file middleware\nexport function staticMiddleware() {\n  return async function staticMiddlewareHandler(ctx, next) {\n    try {\n      if (ctx.path !== '/') {\n        return await koaSend(\n          ctx,\n          ctx.path,\n          process.env.NODE_ENV === 'production' ? {\n            root: PATHS.public,\n            immutable: true,\n          } : {\n            root: PATHS.distDev,\n          },\n        );\n      }\n    } catch (e) { /* Errors will fall through */ }\n    return next();\n  };\n}\n\n// Function to create a React handler, per the environment's correct\n// manifest files\nexport function createReactHandler(css = [], scripts = [], chunkManifest = {}) {\n  return async function reactHandler(ctx) {\n    const routeContext = {};\n\n    // Generate the HTML from our React tree.  We're wrapping the result\n    // in `react-router`'s <StaticRouter> which will pull out URL info and\n    // store it in our empty `route` object\n    const components = (\n      <StaticRouter location={ctx.request.url} context={routeContext}>\n        <ApolloProvider store={ctx.store} client={ctx.apollo}>\n          <App />\n        </ApolloProvider>\n      </StaticRouter>\n    );\n\n    // Wait for GraphQL data to be available in our initial render,\n    // before dumping HTML back to the client\n    await getDataFromTree(components);\n\n    // Handle redirects\n    if ([301, 302].includes(routeContext.status)) {\n      // 301 = permanent redirect, 302 = temporary\n      ctx.status = routeContext.status;\n\n      // Issue the new `Location:` header\n      ctx.redirect(routeContext.url);\n\n      // Return early -- no need to set a response body\n      return;\n    }\n\n    // Handle 404 Not Found\n    if (routeContext.status === 404) {\n      // By default, just set the status code to 404.  Or, we can use\n      // `config.set404Handler()` to pass in a custom handler func that takes\n      // the `ctx` and store\n\n      if (config.handler404) {\n        config.handler404(ctx);\n\n        // Return early -- no need to set a response body, because that should\n        // be taken care of by the custom 404 handler\n        return;\n      }\n\n      ctx.status = routeContext.status;\n    }\n\n    // Create a HTML stream, to send back to the browser\n    const htmlStream = new PassThrough();\n\n    // Prefix the doctype, so the browser knows to expect HTML5\n    htmlStream.write('<!DOCTYPE html>');\n\n    // Create a stream of the React render. We'll pass in the\n    // Helmet component to generate the <head> tag, as well as our Redux\n    // store state so that the browser can continue from the server\n    const reactStream = ReactDOMServer.renderToNodeStream(\n      <Html\n        head={Helmet.rewind()}\n        window={{\n          webpackManifest: chunkManifest,\n          __STATE__: ctx.store.getState(),\n        }}\n        css={css}\n        scripts={scripts}>\n        {components}\n      </Html>,\n    );\n\n    // Pipe the React stream to the HTML output\n    reactStream.pipe(htmlStream);\n\n    // Set the return type to `text/html`, and stream the response back to\n    // the client\n    ctx.type = 'text/html';\n    ctx.body = htmlStream;\n  };\n}\n\n// Build the router, based on our app's settings.  This will define which\n// Koa route handlers\nconst router = (new KoaRouter())\n  // Set-up a general purpose /ping route to check the server is alive\n  .get('/ping', async ctx => {\n    ctx.body = 'pong';\n  })\n\n  // Favicon.ico.  By default, we'll serve this as a 204 No Content.\n  // If /favicon.ico is available as a static file, it'll try that first\n  .get('/favicon.ico', async ctx => {\n    ctx.res.statusCode = 204;\n  });\n\n// Build the app instance, which we'll use to define middleware for Koa\n// as a precursor to handling routes\nconst app = new Koa()\n  // Adds CORS config\n  .use(koaCors(config.corsOptions))\n\n  // Preliminary security for HTTP headers\n  .use(koaHelmet())\n\n  // Error wrapper.  If an error manages to slip through the middleware\n  // chain, it will be caught and logged back here\n  .use(async (ctx, next) => {\n    try {\n      await next();\n    } catch (e) {\n      // If we have a custom error handler, use that - else simply log a\n      // message and return one to the user\n      if (typeof config.errorHandler === 'function') {\n        config.errorHandler(e, ctx, next);\n      } else {\n        console.log('Error:', e.message);\n        ctx.body = 'There was an error. Please try again later.';\n      }\n    }\n  })\n\n  // It's useful to see how long a request takes to respond.  Add the\n  // timing to a HTTP Response header\n  .use(async (ctx, next) => {\n    const start = ms.now();\n    await next();\n    const end = ms.parse(ms.since(start));\n    const total = end.microseconds + (end.milliseconds * 1e3) + (end.seconds * 1e6);\n    ctx.set('Response-Time', `${total / 1e3}ms`);\n  })\n\n  // Create a new Apollo client and Redux store per request.  This will be\n  // stored on the `ctx` object, making it available for the React handler or\n  // any subsequent route/middleware\n  .use(async (ctx, next) => {\n    // Create a new server Apollo client for this request\n    ctx.apollo = createClient({\n      ssrMode: true,\n      // Create a network request.  If we're running an internal server, this\n      // will be a function that accepts the request's context, to feed through\n      // to the GraphQL schema\n      networkInterface: createNeworkInterface(ctx),\n    });\n\n    // Create a new Redux store for this request\n    ctx.store = createNewStore(ctx.apollo);\n\n    // Pass to the next middleware in the chain: React, custom middleware, etc\n    return next();\n  });\n\n/* FORCE SSL */\n\n// Middleware to re-write HTTP requests to SSL, if required.\nif (config.enableForceSSL) {\n  app.use(koaSSL(config.enableForceSSL));\n}\n\n// Attach custom middleware\nconfig.middleware.forEach(middlewareFunc => app.use(middlewareFunc));\n\n// Attach an internal GraphQL server, if we need one\nif (config.graphQLServer) {\n  // Attach the GraphQL schema to the server, and hook it up to the endpoint\n  // to listen to POST requests\n  router.post(\n    config.graphQLEndpoint,\n    graphqlKoa(context => ({\n      // Bind the current request context, so it's accessible within GraphQL\n      context,\n      // Attach the GraphQL schema\n      schema: config.graphQLSchema,\n    })),\n  );\n}\n\n// Do we need the GraphiQL query interface?  This can be used if we have an\n// internal GraphQL server, or if we're pointing to an external server.  First,\n// we check if `config.graphiql` === `true` to see if we need one...\n\nif (config.graphiQL) {\n  // The GraphiQL endpoint default depends on this order of precedence:\n  // explicit -> internal GraphQL server endpoint -> /graphql\n  let graphiQLEndpoint;\n\n  if (typeof config.graphiQL === 'string') {\n    // Since we've explicitly passed a string, we'll use that as the endpoint\n    graphiQLEndpoint = config.graphiQL;\n  } else if (config.graphQLServer) {\n    // If we have an internal GraphQL server, AND we haven't set a string,\n    // the default GraphiQL path should be the same as the server endpoint\n    graphiQLEndpoint = config.graphQLEndpoint;\n  } else {\n    // Since we haven't set anything, AND we don't have an internal server,\n    // by default we'll use `/graphql` which will work for an external server\n    graphiQLEndpoint = '/graphql';\n  }\n\n  router.get(\n    graphiQLEndpoint,\n    graphiqlKoa({\n      endpointURL: config.graphQLEndpoint,\n    }),\n  );\n}\n\n// Attach any custom routes we may have set in userland\nconfig.routes.forEach(route => {\n  router[route.method](route.route, ...route.handlers);\n});\n\n/* BODY PARSING */\n\n// `koa-bodyparser` is used to process POST requests.  Check that it's enabled\n// (default) and apply a custom config if we need one\nif (config.enableBodyParser) {\n  app.use(require('koa-bodyparser')(\n    // Pass in any options that may have been set in userland\n    config.bodyParserOptions,\n  ));\n}\n\n/* CUSTOM APP INSTANTIATION */\n\n// Pass the `app` to do anything we need with it in userland. Useful for\n// custom instantiation that doesn't fit into the middleware/route functions\nif (typeof config.koaAppFunc === 'function') {\n  config.koaAppFunc(app);\n}\n\n// Listener function that will start http(s) server(s) based on userland\n// config and available ports\nconst listen = () => {\n  // Spawn the listeners.\n  const servers = [];\n\n  // Plain HTTP\n  if (config.enableHTTP) {\n    servers.push(\n      http.createServer(app.callback()).listen(process.env.PORT),\n    );\n  }\n\n  // SSL -- only enable this if we have an `SSL_PORT` set on the environment\n  if (process.env.SSL_PORT) {\n    servers.push(\n      https.createServer(config.sslOptions, app.callback()).listen(process.env.SSL_PORT),\n    );\n  }\n\n  return servers;\n};\n\n// Export everything we need to run the server (in dev or prod)\nexport default {\n  router,\n  app,\n  listen,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./kit/entry/server.js","module.exports = require(\"stream\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"https\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"koa-sslify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-sslify\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"kcors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"kcors\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"koa-send\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-send\"\n// module id = 29\n// module chunks = 0","module.exports = require(\"koa-helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-helmet\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"microseconds\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"microseconds\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"apollo-server-koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-server-koa\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"apollo-local-query\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-local-query\"\n// module id = 35\n// module chunks = 0","// Your app's entry point.  Every ReactQL projects requires 'src/app.js',\n// which both the server and browser will import.\n//\n// In this file, you'll do two things:\n//\n// 1.  Import `kit/config`, and configure your app.  In this example, I'm\n// adding a custom Redux reducer that acts as a simple counter, and enabling\n// a built-in GraphQL server that imports a schema for a simple message.\n//\n// 2.  Export the root React component that goes between <div id=\"main\"/>\n// in the server-side HTML.\n\n// ----------------------\n// IMPORTS\n\n\n/* ReactQL */\n\n// Config API, for adding reducers and configuring our ReactQL app\nimport config from 'kit/config';\n\n/* App */\n\n// Example counter reducer.  This simply increments the counter by +1\nimport hotelReducer from 'src/reducers/hotel';\n\n// Main component -- i.e. the 'root' React component in our app\nimport Main from 'src/components/main';\n\nimport data from './data/data.js';\n\n// Init global styles.  These will be added to the resulting CSS automatically\n// without any class hashing.  Use this to include default or framework CSS.\nimport './styles.global.css';\n\n\n/* REDUCERS */\nconfig.addReducer('hotels', hotelReducer, data);\n\n/* GRAPHQL */\n\n// Enable the internal GraphQL server.  This will do two things:\n//\n// 1.  On the server, it will set-up the necessary route handlers to 'listen'\n// to incoming GraphQL requests on `/graphql`, as well as (by default) set-up\n// the GraphiQL IDE\n//\n// 2.  On the client, it will append the correct server URL so that we can\n// call the ReactQL host properly, and let the server handle our requests\nconfig.enableGraphQLServer();\n\n\n/* SERVER */\n\n// Set our server config, by checking `SERVER` -- this code path will be\n// eliminated by Webpack in the browser, so we can safely add this.\n\nif (SERVER) {\n  /* SSL */\n\n  // By default, the Koa web server runs on a plain HTTP server. However,\n  // you can easily enable HTTPS.  In the following commands, I grab a sample\n  // self-signed key/cert combo and call `config.enableSSL()` with the options\n  // I want to pass to the `https.createServer()` that happens under the hood.\n  //\n  // Note: Running https:// in your browser using this self-signed cert will\n  // undoubtably raise a security error. But at least we can see it's working.\n  //\n  // Production note: I generally recommend using a dedicated upstream proxy\n  // such as Nginx to handle HTTPS traffic, since the TLS handshake will likely\n  // be faster, and you can add HTTP/2 and have much finer-grain control over\n  // HTTP. But, if you need a fast SSL service, ReactQL has you covered!\n\n  /*\n    Uncomment the next two lines to enable SSL!\n  */\n\n  const cert = require('src/cert/self_signed');\n  config.enableSSL({ key: cert.key, cert: cert.cert });\n\n  // If wanted, you could also run an *SSL-only* server by uncommenting:\n  // config.disableHTTP();\n\n  // Or, you could automatically redirect non-HTTP traffic to SSL by\n  // uncommenting the following: (Note: pass { port: 8081 }) for development\n  // or { port: 4000 } for the default production port\n  // config.forceSSL({ port: 8081 });\n\n  /* GRAPHQL SCHEMA */\n  // Pass in the schema to use for our internal GraphQL server.  Note we're\n  // doing this inside a `SERVER` block to avoid importing a potentially large\n  // file, which would then inflate our client bundle unnecessarily\n  config.setGraphQLSchema(require('src/graphql/schema').default);\n\n  /* CUSTOM ROUTES */\n\n  // We can add custom routes to the web server easily, by using\n  // `config.add<Get|Post|Put|Patch>Route()`.  Note:  These are server routes only.\n  config.addGetRoute('/test', async ctx => {\n    // For demo purposes, let's get a JSON dump of the current Redux state\n    // to see that we can expect its contents\n    const stateDump = JSON.stringify(ctx.store.getState());\n\n    // Display a simple message, along with the Redux dump.  Note that this\n    // won't contain a full `apollo` response, because it hasn't passed through\n    // the React handler -- but it *does* mean we can still manipulate the state\n    // from within our root, or fire action handlers!\n    ctx.body = `Hello from your ReactQL route. Redux dump: ${stateDump}`;\n  });\n\n  /* CUSTOM 404 HANDLER */\n\n  // By default, if the server gets a route request that results in a 404,\n  // it will set `ctx.status = 404` but continue to render the <NotFound>\n  // block as normal.  If we want to add our own custom handler, we can use\n  // `config.set404Handler()` as below.\n  //\n  // Note:  This only applies to SERVER routes.  On the client, the\n  // <NotFound> block will *always* run.\n\n  config.set404Handler(ctx => {\n    // Like above, we'll grab a dump of the store state again -- this time,\n    // it *will* contain a full `apollo` dump because in order to figure out that\n    // a route has hit a 404, it will already have rendered the React chain\n    // and retrieved any relevant GraphQL\n    const stateDump = JSON.stringify(ctx.store.getState());\n\n    // Explicitly set the return status to 404.  This is done for us by\n    // default if we don't have a custom 404 handler, but left to the function\n    // otherwise (since we might not always want to return a 404)\n    ctx.status = 404;\n\n    // Set the body\n    ctx.body = `This route does not exist on the server - Redux dump: ${stateDump}`;\n  });\n\n  /* CUSTOM ERROR HANDLER */\n\n  // By default, any exceptions thrown anywhere in the middleware chain\n  // (including inside the `createReactHandler` func) will propogate up the\n  // call stack to a default error handler that simply logs the message and\n  // informs the user that there's an error.  We can override that default\n  // behaviour with a func with a (e, ctx, next) -> {} signature, where `e` is\n  // the error thrown, `ctx` is the Koa context object, and `next()` should\n  // be called if you want to recover from the error and continue processing\n  // subsequent middleware.  Great for logging to third-party tools, tc.\n  config.setErrorHandler((e, ctx /* `next` is unused in this example */) => {\n    // Mimic the default behaviour with an overriden message, so we know it's\n    // working\n    // eslint-disable-next-line no-console\n    console.log('Error: ', e.message);\n    ctx.body = 'Some kind of error. Check your source code.';\n  });\n\n  /* CUSTOM KOA APP INSTANTIATION */\n\n  // If you need to do something with `app` outside of middleware/routing,\n  // you can pass a func to `config.getKoaApp()` that will be fed the `app`\n  // instance directly.\n  config.getKoaApp(app => {\n    // First, we'll add a new `engine` key to the app.context`\n    // prototype (that per-request `ctx` extends) that can be\n    // used in the middleware below, to set a `Powered-By` header.\n    // eslint-disable-next-line no-param-reassign\n    app.context.engine = 'ReactQL';\n\n    // We'll also add a generic error handler, that prints out to the console.\n    // Note: This is a 'lower-level' than `config.setErrorHandler()` because\n    // it's not middleware -- it's for errors that happen at the server level\n    app.on('error', e => {\n      // This function should never show up, because `config.setErrorHandler()`\n      // is already catching errors -- but just an FYI for what you might do.\n      // eslint-disable-next-line no-console\n      console.error('Server error:', e);\n    });\n  });\n\n  /* CUSTOM MIDDLEWARE */\n\n  // We can set custom middleware to be processed on the server.  This gives us\n  // fine-grain control over headers, requests, responses etc, and even decide\n  // if we want to avoid the React handler until certain conditions\n  config.addMiddleware(async (ctx, next) => {\n    // Let's add a custom header so we can see middleware in action\n    ctx.set('Powered-By', ctx.engine); // <-- `ctx.engine` srt above!\n\n    // For the fun of it, let's demonstrate that we can fire Redux actions\n    // and it'll manipulate the state on the server side!  View the SSR version\n    // to see that the counter is now 1 and has been passed down the wire\n    ctx.store.dispatch({ type: 'INCREMENT_COUNTER' });\n\n    // Always return `next()`, otherwise the request won't 'pass' to the next\n    // middleware in the stack (likely, the React handler)\n    return next();\n  });\n}\n\n// In app.js, we need to export the root component we want to mount as the\n// starting point to our app.  We'll just export the `<Main>` component.\nexport default Main;\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","import initialState from '../data/data.js';\r\nimport Immutable from 'seamless-immutable';\r\n\r\nexport default function reducer(state, action) {\r\n  switch (action.type) {\r\n      case 'FIND_BY_NAME':\r\n        if(action.name.length) {\r\n          return state.filter(hotel =>  {\r\n            let reg = new RegExp(action.name, \"i\");\r\n            return hotel.name.match(reg);\r\n          });\r\n        } else {\r\n          return initialState;\r\n        }\r\n      case 'SORT_BY_RAITING_ASK':\r\n        return [].concat(Immutable(state)).sort((a,b) => a.rating - b.rating);\r\n      case 'SORT_BY_RAITING_DESC':\r\n        return [].concat(Immutable(state)).sort((a,b) => b.rating - a.rating);\r\n    }\r\n  return state;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/reducers/hotel.js","module.exports = require(\"uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid\"\n// module id = 38\n// module chunks = 0","// IMPORTS\n\n// React\nimport React from 'react';\n\n// Routing via React Router\nimport {\n  Link,\n  Route,\n  Switch,\n} from 'react-router-dom';\n\n// <Helmet> component for setting the page title/meta tags\nimport Helmet from 'react-helmet';\n\n/* ReactQL */\n\n// NotFound 404 handler for unknown routes\nimport { Redirect } from 'kit/lib/routing';\n\nimport HotelList from 'src/components/hotelList.js';\nimport FilterSection from 'src/components/filterSection.js'\n\n// Styles\nimport css from '../hotel.scss';\n\nexport default () => (\n  <div className={css.content}>\n    <FilterSection />\n    <HotelList />\n  </div>\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/main/index.js","/* eslint-disable no-param-reassign */\n\n// ----------------------\n// IMPORTS\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect as ReactRouterRedirect } from 'react-router-dom';\n\n// ----------------------\n\n// <Status code=\"xxx\"> component.  Updates the context router's context, which\n// can be used by the server handler to respond to the status on the server.\nclass Status extends React.PureComponent {\n  static propTypes = {\n    code: PropTypes.number.isRequired,\n    children: PropTypes.node,\n  }\n\n  static defaultProps = {\n    children: null,\n  }\n\n  render() {\n    const { code, children } = this.props;\n    return (\n      <Route render={({ staticContext }) => {\n        if (staticContext) {\n          staticContext.status = code;\n        }\n        return children;\n      }} />\n    );\n  }\n}\n\n// <NotFound> component.  If this renders on the server in development mode,\n// it will attempt to proxyify the request to the upstream `webpack-dev-server`.\n// In production, it will issue a hard 404 and render.  In the browser, it will\n// simply render.\nexport class NotFound extends React.PureComponent {\n  static propTypes = {\n    children: PropTypes.node,\n  }\n\n  static defaultProps = {\n    children: null,\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <Status code={404}>\n        {children}\n      </Status>\n    );\n  }\n}\n\n// <Redirect> component. Mirrors React Router's component by the same name,\n// except it sets a 301/302 status code for setting server-side HTTP headers.\nexport class Redirect extends React.PureComponent {\n  static propTypes = {\n    to: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.object,\n    ]).isRequired,\n    from: PropTypes.string,\n    push: PropTypes.bool,\n    permanent: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    from: null,\n    push: false,\n    permanent: false,\n  }\n\n  render() {\n    const { to, from, push, permanent } = this.props;\n    const code = permanent ? 301 : 302;\n    return (\n      <Status code={code}>\n        <ReactRouterRedirect to={to} from={from} push={push} />\n      </Status>\n    );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kit/lib/routing.js","// IMPORTS\r\n\r\n/* NPM */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n// HOC/decorator to listen to Redux store state\r\nimport { connect } from 'react-redux';\r\n\r\nimport FontAwesome from 'react-fontawesome';\r\n\r\n// Styles\r\nimport css from './hotel.scss';\r\nimport faStyles from 'font-awesome/css/font-awesome.css';\r\n\r\n@connect(state => ({ hotels: state.hotels }))\r\nexport default class HotelList extends React.PureComponent {\r\n\r\n  getRange = (rating) => {\r\n    let starCount = [];\r\n    for(let i=0; i<5; i++) {\r\n      if (i<rating) starCount.push('star')\r\n      else starCount.push('star-o')\r\n    }\r\n    return (\r\n      <div className={css.rating}>\r\n        {starCount.map((star, index) => (\r\n          <FontAwesome\r\n            key={index}\r\n            name={star}\r\n            cssModule={faStyles}\r\n            style={{ color: 'yellow' }}\r\n          />\r\n        ))}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const hotels = this.props.hotels;\r\n    let content = \"Not found\";\r\n\r\n    if(hotels.length) {\r\n      content = (\r\n        <div>\r\n          {hotels.map(hotel => (\r\n            <div key={hotel.uuid} className={css.hotelItem} >\r\n              <div className={css.hotelCover} style={{background: \"url(\"+require(`static/img/${hotel.cover}`)+\") center center\"}}>\r\n                <div className={css.hotelInfo}>\r\n                  {hotel.name}\r\n                  {this.getRange(hotel.rating)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )\r\n    }\r\n    return (\r\n      <div>{content}</div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/hotelList.js","var map = {\n\t\"./bellagio.jpg\": 43,\n\t\"./boston.jpg\": 44,\n\t\"./carlos.jpg\": 45,\n\t\"./poseidon.jpg\": 46,\n\t\"./safari.jpg\": 47\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number or string\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 42;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img ^\\.\\/.*$\n// module id = 42\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/img/bellagio.5031f12efee6b1822c6e8e609e8ef313.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/bellagio.jpg\n// module id = 43\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/img/boston.7b3e14f447a22ccf162f7b4c9f328119.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/boston.jpg\n// module id = 44\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/img/carlos.c89090db5b08dda24cf64436236b5c71.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/carlos.jpg\n// module id = 45\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/img/poseidon.1d9b736953400ba2189d2c8135f635b3.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/poseidon.jpg\n// module id = 46\n// module chunks = 0","module.exports = __webpack_public_path__ + \"assets/img/safari.8d28fda3b2e5cfc1f6019fcbae29f6d0.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/safari.jpg\n// module id = 47\n// module chunks = 0","// IMPORTS\r\n\r\n/* NPM */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n// HOC/decorator to listen to Redux store state\r\nimport { connect } from 'react-redux';\r\nimport FontAwesome from 'react-fontawesome';\r\n\r\n// Actions to add/remove event\r\nimport { findByName, sortByRaitingASK, sortByRaitingDESC } from 'src/actions';\r\n\r\n// Styles\r\nimport css from './hotel.scss';\r\nimport faStyles from 'font-awesome/css/font-awesome.css';\r\n\r\n@connect(state => ({ hotels: state.hotels }))\r\nexport default class HotelList extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      clearBtn: false,\r\n      sortByRaiting: 'ASK'\r\n    };\r\n  }\r\n  setRef = ref => {\r\n    this.ref = ref;\r\n  }\r\n\r\n  handleFindHotel = () => {\r\n    this.props.dispatch(findByName(this.ref.value));\r\n    if(this.ref.value) this.setState({ clearBtn: true })\r\n    else this.setState({ clearBtn: false })\r\n  }\r\n\r\n  handleClearSearch = () => {\r\n    this.ref.value = '';\r\n    this.props.dispatch(findByName(this.ref.value));\r\n    this.setState({ clearBtn: false })\r\n  }\r\n\r\n  handleSortByRaitingASK = () => {\r\n    this.props.dispatch(sortByRaitingASK());\r\n    this.setState({ sortByRaiting: 'DESK' })\r\n  }\r\n\r\n  handleSortByRaitingDESC = () => {\r\n    this.props.dispatch(sortByRaitingDESC());\r\n    this.setState({ sortByRaiting: 'ASK' })\r\n  }\r\n\r\n  render() {\r\n    const hotels = this.props.hotels;\r\n\r\n    return (\r\n      <div className={css.filterSection}>\r\n        <div className={css.searchSection}>\r\n          <input ref={this.setRef} type=\"text\"  onChange={() => this.handleFindHotel()} placeholder=\"Search...\"/>\r\n          {this.state.clearBtn && (<div className={css.searchBtn} onClick={this.handleClearSearch}>Clear</div>)}\r\n        </div>\r\n        <div className={css.sortSection}>\r\n          <div className={css.btn} onClick={() =>\r\n            { (this.state.sortByRaiting == 'ASK') ? this.handleSortByRaitingASK() : this.handleSortByRaitingDESC() }}>\r\n            Sort by <b>rating</b>\r\n            <FontAwesome\r\n              name='sort'\r\n              cssModule={faStyles}\r\n              className={css.sortIcon}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/filterSection.js","export function findByName(name) {\r\n  return {\r\n    type: 'FIND_BY_NAME',\r\n    name,\r\n  };\r\n}\r\n\r\nexport function sortByRaitingASK() {\r\n  return {\r\n    type: 'SORT_BY_RAITING_ASK',\r\n  };\r\n}\r\n\r\nexport function sortByRaitingDESC() {\r\n  return {\r\n    type: 'SORT_BY_RAITING_DESC',\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/actions/index.js","// Self-signed certificate. Used for the purposes of running a demo SSL server\n// in the sample kit. Don't use in production!\n\n// Private key file\nexport const key = `\n-----BEGIN RSA PRIVATE KEY-----\nMIIEogIBAAKCAQEArImW6u4aqhFf2sXDWjYiSg6W9e7LxNz6YbTk0E/G3vybHZk9\n4DLe/LLF2x2740WV60DLBXSw1PXbRdNX90MDUJey++BMNDrNlYNTgKC5jBSO54mD\nu3WKqhQfawYIaraNdzFix8yCgDgNyDuOziWTcIHRIO4DGH3zERcUH9yxrepoSuE9\nHqROVF+dsgTvP+I6CYULMTIDncQi5QaK6DScykAFs8lobmBuZ6ncEZJWejIzzdAo\nZGaW1SQY7BwCauckiqbdlvYdLoRqijvnl/1IyYDBYbDpg+LGnw1US5dmzSf68biT\nVpdsmoZi4TgH8Cmnx1VKzGErvaFjJmguhiqqSwIDAQABAoIBAECVsFx4jJqkrlDi\nPmICaYt3MqMUpEoovcDdSdmAQ10tCZNmzXajFD1bXhzLYI2OerP5KQX9zEOrVE0q\n836nIxKD9oe6Skwyxsn0wskfYNVCzMt2+kytjx5jMe+J7pSjiQjY/7TypNcCJIaT\nZL1d63bt4S6Gabo9S0NWdD4JCqmiu7X8AhJY4TcMr9taRKYH3ileGSRrp2jQyYGV\n+E11f8jb6VLFNWJzYV0aRftOefbFm8IQv13vGkxPtJ054tqPfdrIiI6GY01yRxS2\nxCPVREnw/nvPu2a3I7EdXdZjgkGMDt9rMGJOkWpEuk9UlEIQqsGRBZ2LfjnS8Kw2\nX65JbMECgYEA2vbjJ+0Q7tyxHxp468r84NGiZT/W92p5B31S1yE6czSFtk2rw2vK\n6nM5vlYwKnYt0ESlYtmdiWyl4mdrA2eclUczwuVbISlMxLphMs3puQFVcCoBYQ9q\nB1Z60BkNfevWXbSN9SH+E/yqqGA9HMuCKcyDIgKsYXvBNyPMlhNloSMCgYEAybhs\n3SbxS67NWlF7kT/A8rBDy8alWWAUcX4qD6fxzRpilrT7ChHPydMsgS9rd436GBId\nhlFSy+wKfwNvFeyZ59tSWBruEo/9tIPy/aSJRWgxPXcmtoMN/URNvM0igm+ModYA\ngMMddekNz+qjpD0a5gSMiw/nV18Kbg3N785haLkCgYB7YEcoFQTIgiNu8hyWR57r\nElPdlvYKHL0rQisuOnPTvBFnYiZZC2Cfb+NmYuvq0QIJatSBeTqx1z007661kWkC\nF8eLlm4dpkayRo5D8RAzhRPeCl0SknvcvJagsK0QeZUk4XpnWArwuhpymx90HRsv\ncCOnQzhcCT4aUpqRKUbHXwKBgCX2rZZZc+QYe9FZsHW/l+KUxc2eDxRo/q/1XJkh\ntGIzawaN/QkCHScQtTmC4SjY8Y6CKkhTGdADFl6dGNT5eGWoYzDtsIyRyN+mTZ7q\nzmLfnxTATerfc0yNBExaFvqRX9g9XE7fabX9LHpK4I1SarOLe5/YWGObIW1g77cI\nElERAoGAI0R8KGB6qLmAUx2Kt1LcrH8anhJ32q/qimYdae+0rpfJ7PgqtEyohJ2W\ncPOb3RRB2Cte/tYfhZse91lhuFMksp5R+/7H1aAA6u8vw2RFRVfpQMIq8Jag9xoA\nwreduKK1jVs++uTaWsz8hJm+OivXz+TVEbv14FxCG+UL0+jHgak=\n-----END RSA PRIVATE KEY-----\n`;\n\n// Certificate\nexport const cert = `\n-----BEGIN CERTIFICATE-----\nMIICpDCCAYwCCQDJpSJg3QqP6zANBgkqhkiG9w0BAQsFADAUMRIwEAYDVQQDDAls\nb2NhbGhvc3QwHhcNMTcwODI4MTUzNDM3WhcNMjcwODI2MTUzNDM3WjAUMRIwEAYD\nVQQDDAlsb2NhbGhvc3QwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQCs\niZbq7hqqEV/axcNaNiJKDpb17svE3PphtOTQT8be/JsdmT3gMt78ssXbHbvjRZXr\nQMsFdLDU9dtF01f3QwNQl7L74Ew0Os2Vg1OAoLmMFI7niYO7dYqqFB9rBghqto13\nMWLHzIKAOA3IO47OJZNwgdEg7gMYffMRFxQf3LGt6mhK4T0epE5UX52yBO8/4joJ\nhQsxMgOdxCLlBoroNJzKQAWzyWhuYG5nqdwRklZ6MjPN0ChkZpbVJBjsHAJq5ySK\npt2W9h0uhGqKO+eX/UjJgMFhsOmD4safDVRLl2bNJ/rxuJNWl2yahmLhOAfwKafH\nVUrMYSu9oWMmaC6GKqpLAgMBAAEwDQYJKoZIhvcNAQELBQADggEBAGu3NXny0wNR\nltJnRujm5hIDfvu/buG6KUcC/7VIfqWbu2sRjc6ItRWhLZhG46GpfBkU30drSlAe\nYAS8vxPPAXegX+X6spdWZu8YMAEncZQyOQsNnGGMUCH9D58Jb8XAGdYUp43M6bE8\nmuhQs6HDdtEqYpimiGhgBRgnMgbit0dN4jn2U7x0Z+TXbOOJHSN7WGDj5Cm12Dw8\ndG1lxJQxNCJuqV/E7Mw6L6Q7KDxiY3hqUeR1wcIE7lgtzhgoFBWv2P0KCyiH3VB/\nN9pdArD1KgMyvF7gUZ9jCsrsovOoCfxj8EQ2acgELHDnKA9pfwE8dX5N5iIb8AoE\nqoTa3AOG8Vk=\n-----END CERTIFICATE-----\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./src/cert/self_signed.js","// Schema for sample GraphQL server.\n\n// ----------------------\n// IMPORTS\n\n// GraphQL schema library, for building our GraphQL schema\nimport {\n  GraphQLObjectType,\n  GraphQLString,\n  GraphQLSchema,\n} from 'graphql';\n\n// ----------------------\n\n// GraphQL can handle Promises from its `resolve()` calls, so we'll create a\n// simple async function that returns a simple message.  In practice, `resolve()`\n// will generally pull from a 'real' data source such as a database\nasync function getMessage() {\n  return {\n    text: `Hello from the GraphQL server @ ${new Date()}`,\n  };\n}\n\n// Message type.  Imagine this like static type hinting on the 'message'\n// object we're going to throw back to the user\nconst Message = new GraphQLObjectType({\n  name: 'Message',\n  description: 'GraphQL server message',\n  fields() {\n    return {\n      text: {\n        type: GraphQLString,\n        resolve(msg) {\n          return msg.text;\n        },\n      },\n    };\n  },\n});\n\nconst Hotels = new GraphQLObjectType({\n  name: 'Hotels',\n  description: 'Hotels list',\n  fields() {\n    return {\n      hotels: {\n        type: GraphQLString,\n        resolve(msg) {\n          return msg.text;\n        },\n      },\n    };\n  },\n});\n\n// Root query.  This is our 'public API'.\nconst Query = new GraphQLObjectType({\n  name: 'Query',\n  description: 'Root query object',\n  fields() {\n    return {\n      message: {\n        type: Message,\n        resolve() {\n          return getMessage();\n        },\n      },\n    };\n  },\n});\n\n// The resulting schema.  We insert our 'root' `Query` object, to tell our\n// GraphQL server what to respond to.  We could also add a root `mutation`\n// if we want to pass mutation queries that have side-effects (e.g. like HTTP POST)\nexport default new GraphQLSchema({\n  query: Query,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/graphql/schema.js","/* eslint-disable no-underscore-dangle */\n\n/*\nCustom Redux store creation.  Along with the default Apollo store,\nwe can define custom reducers using `kit/config.addReducer()` which will\nbe available on the server and in the browser.\n\nStore state is wrapped by `seamless-immutable` to enforce a pattern of\nimmutability, to prevent weird side effects.\n*/\n\n// ----------------------\n// IMPORTS\n\n/* NPM */\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport Immutable from 'seamless-immutable';\n\n/* Local */\nimport config from 'kit/config';\n\n// ----------------------\n\n// Detect if we're both in the browser, AND we have dehydrated state\nconst hasState = !!(!SERVER && window.__STATE__);\n\n// Helper function that 'unwinds' the `config.reducers` Map, and provides\n// the `reducer` function or `initialState` (wrapped in `seamless-immutable`)\n// depending on what we asked for\nfunction unwind(reducer = true) {\n  // Unwind `config.reducers`.  If we're looking for the `reducer`, we'll\n  // wrap this in a `defaultReducer` function that properly handles the Redux\n  // 'undefined' sentinel value, or calls 'real' reducer if it's not undefined.\n  //\n  // If we're not looking for reducers, it'll pull out the `initialState`\n  // variable instead, which we'll further process below\n  const r = Object.assign({},\n    ...[].concat([...config.reducers].map(arr => ({\n      [arr[0]]: reducer ? function defaultReducer(state, action) {\n        // If `state` === undefined, this is Redux sending a sentinel value\n        // to check our set-up.  So we'll send back a plain object to prove\n        // that we're properly handling our reducer\n        if (typeof state === 'undefined') return {};\n\n        // Otherwise, call our real reducer with the {state, action}\n        return arr[1].reducer(state, action);\n      } : arr[1].initialState,\n    }))),\n  );\n\n  // If this is a reducer, return at this point\n  if (reducer) return r;\n\n  // If not, we're looking for the state -- so let's map it and wrap the\n  // object in `seamless-immutable`, to avoid side-effects with Redux\n  return Object.assign({}, ...Object.keys(r).map(key => ({\n    [key]: Immutable((hasState && (window.__STATE__[key])) || r[key]),\n  })));\n}\n\nexport default function createNewStore(apolloClient) {\n  const store = createStore(\n    // By default, we'll use just the apollo reducer.  We can easily add our\n    // own here, for global store management outside of Apollo\n    combineReducers({\n      apollo: apolloClient.reducer(),\n      ...unwind(),\n    }),\n    // Initial server state, provided by the server.\n    {\n      apollo: (hasState && window.__STATE__.apollo) || {},\n      ...unwind(false),\n    },\n    compose(\n      applyMiddleware(\n        apolloClient.middleware(),\n        thunkMiddleware,\n      ),\n      // Enable Redux Devtools on the browser, for easy state debugging\n      // eslint-disable-next-line no-underscore-dangle\n      (!SERVER && typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n    ),\n  );\n\n  return store;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kit/lib/redux.js","module.exports = require(\"redux\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux\"\n// module id = 54\n// module chunks = 0","module.exports = require(\"redux-thunk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"redux-thunk\"\n// module id = 55\n// module chunks = 0","/* eslint-disable react/no-danger, no-return-assign, no-param-reassign */\n\n// Component to render the full HTML response in React\n\n// ----------------------\n// IMPORTS\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// ----------------------\n\nconst Html = ({ head, scripts, window, css, children }) => (\n  <html lang=\"en\" prefix=\"og: http://ogp.me/ns#\">\n    <head>\n      <meta charSet=\"utf-8\" />\n      <meta httpEquiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n      <meta httpEquiv=\"Content-Language\" content=\"en\" />\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n      {head.meta.toComponent()}\n      <link rel=\"stylesheet\" href={css} />\n      {head.title.toComponent()}\n    </head>\n    <body>\n      <div id=\"main\">{children}</div>\n      <script\n        dangerouslySetInnerHTML={{\n          __html: Object.keys(window).reduce(\n            (out, key) => out += `window.${key}=${JSON.stringify(window[key])};`,\n            ''),\n        }} />\n      {scripts.map(src => <script key={src} src={src} />)}\n    </body>\n  </html>\n);\n\nHtml.propTypes = {\n  head: PropTypes.object.isRequired,\n  window: PropTypes.object.isRequired,\n  scripts: PropTypes.arrayOf(PropTypes.string).isRequired,\n  css: PropTypes.string.isRequired,\n  children: PropTypes.element.isRequired,\n};\n\nexport default Html;\n\n\n\n// WEBPACK FOOTER //\n// ./kit/views/ssr.js","// ----------------------\n// IMPORTS\n\n/* NPM */\n\n// Apollo client library\nimport { createNetworkInterface, ApolloClient } from 'react-apollo';\n\n/* ReactQL */\n\n// Configuration\nimport config from 'kit/config';\n\n// Get environment, to figure out where we're running the GraphQL server\nimport { getServerURL } from 'kit/lib/env';\n\n// ----------------------\n\n// Helper function to create a new Apollo client, by merging in\n// passed options alongside any set by `config.setApolloOptions` and defaults\nexport function createClient(opt = {}) {\n  return new ApolloClient(Object.assign({\n    reduxRootSelector: state => state.apollo,\n  }, config.apolloClientOptions, opt));\n}\n\n// Wrap `createNetworkInterface` to attach middleware\nexport function getNetworkInterface(uri) {\n  const networkInterface = createNetworkInterface({\n    uri,\n    opts: config.apolloNetworkOptions,\n  });\n\n  // Attach middleware\n  networkInterface.use(config.apolloMiddleware.map(f => ({ applyMiddleware: f })));\n  networkInterface.useAfter(config.apolloAfterware.map(f => ({ applyAfterware: f })));\n\n  return networkInterface;\n}\n\n// Creates a new browser client\nexport function browserClient() {\n  // If we have an internal GraphQL server, we need to append it with a\n  // call to `getServerURL()` to add the correct host (in dev + production)\n  const uri = config.graphQLServer\n    ? `${getServerURL()}${config.graphQLEndpoint}` : config.graphQLEndpoint;\n\n  return createClient({\n    networkInterface: getNetworkInterface(uri),\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./kit/lib/apollo.js","// ----------------------\n// IMPORTS\n\nconst path = require('path');\n\n// ----------------------\n\n// Parent folder = project root\nconst root = path.join(__dirname, '..');\n\nmodule.exports = {\n  // Root project folder.  This is the current dir.\n  root,\n\n  // Kit.  ReactQL starter kit code.  You can edit these files, but be\n  // aware that upgrading your starter kit could overwrite them\n  kit: path.join(root, 'kit'),\n\n  // Entry points.  This is where webpack will look for our browser.js,\n  // server.js and vendor.js files to start building\n  entry: path.join(root, 'kit', 'entry'),\n\n  // Webpack configuration files\n  webpack: path.join(root, 'kit', 'webpack'),\n\n  // Views for internal use\n  views: path.join(root, 'kit', 'views'),\n\n  // Source path; where we'll put our application files\n  src: path.join(root, 'src'),\n\n  // Static files.  HTML, images, etc that can be processed by Webpack\n  // before being moved into the final `dist` folder\n  static: path.join(root, 'static'),\n\n  // Dist path; where bundled assets will wind up\n  dist: path.join(root, 'dist'),\n\n  // Dist path for development; where dev assets will wind up\n  distDev: path.resolve(root, 'dist', 'dev'),\n\n  // Public.  This is where our web server will start looking to serve\n  // static files from\n  public: path.join(root, 'dist', 'public'),\n};\n\n\n\n// WEBPACK FOOTER //\n// ./config/paths.js","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 59\n// module chunks = 0","module.exports = require(\"koa-bodyparser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-bodyparser\"\n// module id = 60\n// module chunks = 0"],"sourceRoot":""}